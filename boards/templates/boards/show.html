{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block content %}
    <div class="boardWrapper">
        {% if user != board.user_profile.user %}
            <form action="{% url 'users:boards:follow' board.user_profile.user.username board.name %}" method="POST">
                {% csrf_token %}
                <input type="submit" value="Follow board">
            </form>

            <form action="{% url 'users:boards:unfollow' board.user_profile.user.username board.name %}" method="POST">
                {% csrf_token %}
                <input type="submit" value="Unfollow board">
            </form>
        {% endif %}

        <h1>{{ board.name }}</h1>

        {% blocktrans count counter=board.pins.count %}
            <p><b>{{ counter }}</b> Pin</p>
        {% plural %}
            <p><b>{{ counter }}</b> Pins</p>
        {% endblocktrans %}

        <a href="{% url 'users:boards:followers' board.user_profile.user.username board.name %}">
            {% blocktrans count counter=board.followers|length %}
                <p><b>{{ counter }}</b> Follower</p>
            {% plural %}
                <p><b>{{ counter }}</b> Followers</p>
            {% endblocktrans %}
        </a>

        <div class="userProfileAvatar">
            <a href="{% url 'users:user' board.user_profile.user.username %}">
                {% if board.user_profile.avatar %}
                    <img src="{{ board.user_profile.avatar.url }}" alt="" height="60" width="60">
                {% else %}
                    <img src="{% static 'images/default-avatar.png' %}" alt="" height="60" width="60">
                {% endif %}
            </a>
        </div>

        <p>{{ board.description }}</p>

        <div class="pins">
            {% for pin in board.pins.all %}
                <div class="pin">
                    <a class="pinLink" href="{% url 'pins:pin' pin.id %}">
                        <img src="/media/{{ pin.image_file }}" alt="">
                    </a> 
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}