{% extends 'users/base.html' %}
{% load i18n %}

{% block user_profile_content %}
    <div class="user-profile-boards-container">
        
    {% if user == user_profile.user %}
        {% include 'boards/forms/create.html' with username=user_profile.user.username %}
    {% endif %}

        <div class="public-boards-container">

            {% for board in public_boards %}
                <div class="board-wrapper">

                    <a href="{% url 'users:boards:show' user_profile.user.username board.name %}">
                        {% for pin in board.pins.all %}
                            <div class="pin">
                                <img src="/media/{{ pin.image_file }}" alt="">
                            </div>
                        {% endfor %}
                        
                        <h2>{{ board.name }}</h2>

                        {% blocktrans count counter=board.pins.count %}
                            <p><b>{{ counter }}</b> Pin</p>
                        {% plural %}
                            <p><b>{{ counter }}</b> Pins</p>
                        {% endblocktrans %}
                    </a>
                    
                {% if user != user_profile.user %}

                    {% include 'boards/forms/follow.html' with username=board.user_profile.user.username board_name=board.name %}

                    {% include 'boards/forms/unfollow.html' with username=board.user_profile.user.username board_name=board.name %}

                {% endif %}

                </div>
            {% endfor %}

        </div>

    {% if user == user_profile.user %}
        <div class="secret-boards-container">

            <h2>Secret boards</h2>

            <p>Only you (and people you invite) can see these boards.</p>

            {% for board in secret_boards %}
                <div class="board-wrapper">

                    <a href="{% url 'users:boards:show' user_profile.user.username board.name %}">
                        {% for pin in board.pins.all %}
                            <div class="pin">
                                <img src="/media/{{ pin.image_file }}" alt="">
                            </div>
                        {% endfor %}
                        
                        <h2>{{ board.name }}</h2>

                        {% blocktrans count counter=board.pins.count %}
                            <p><b>{{ counter }}</b> Pin</p>
                        {% plural %}
                            <p><b>{{ counter }}</b> Pins</p>
                        {% endblocktrans %}
                    </a>

                </div>
            {% endfor %}

        </div>
    {% endif %}
        
    </div>
{% endblock %}