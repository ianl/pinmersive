{% extends 'users/base.html' %}
{% load i18n %}

{% block content %}
    <div class="userProfilePins">

        {% if user == user_profile.user %}
            <div class="pinCreate">
                <h1>Save Pin</h1>

                <h2>Save from the web</h2>
                <form action="{% url 'users:pins_create' user_profile.user.username %}" method="POST">
                    {% csrf_token %}
                    {{ pin_from_web_form.as_p }}
                    <input type="submit" value="Save">
                </form>

                <h2>Save from your device</h2>
                <form action="{% url 'users:pins_create' user_profile.user.username %}" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    {{ pin_from_device_form.as_p }}
                    <input type="submit" value="Save">
                </form>
            </div>
        {% endif %}

        {% blocktrans count counter=pins|length %}
            <p><b>{{ counter }}</b> Pin</p>
        {% plural %}
            <p><b>{{ counter }}</b> Pins</p>
        {% endblocktrans %}

        {% for pin in pins %}
            <div class="pin">
                <a class="pinLink" href="{% url 'pins:show' pin.id %}">
                    <img src="/media/{{ pin.image_file }}" alt="">
                </a> 
            </div>
        {% endfor %}
    </div>
{% endblock %}